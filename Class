// npm install discord.js dayjs
const { Client, GatewayIntentBits, EmbedBuilder } = require('discord.js');
const dayjs = require('dayjs');
require('dayjs/locale/th');
dayjs.locale('th');

// ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏û)
const timetable = {
  '‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå': [
    { start: '07:30', end: '08:20', subject: 'Home Room', code: '-', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '08:20', end: '09:10', subject: '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '09:10', end: '10:00', subject: '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '10:00', end: '10:50', subject: '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '10:50', end: '11:40', subject: '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '11:40', end: '12:30', subject: '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '12:30', end: '13:20', subject: '‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô', code: '-', teacher: '-' },
    { start: '13:20', end: '14:10', subject: '‡∏™40247', code: '‡∏™40247', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '14:10', end: '15:00', subject: '‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:00', end: '15:50', subject: '‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:50', end: '16:40', subject: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
  ],
  '‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£': [
    { start: '07:30', end: '08:20', subject: 'Home Room', code: '-', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '08:20', end: '09:10', subject: '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢', code: '030246', teacher: '‡∏Ñ‡∏£‡∏π‡∏ì‡∏õ‡∏†‡∏±‡∏ä' },
    { start: '09:10', end: '10:00', subject: '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢', code: '030246', teacher: '‡∏Ñ‡∏£‡∏π‡∏ì‡∏õ‡∏†‡∏±‡∏ä' },
    { start: '10:00', end: '10:50', subject: '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '10:50', end: '11:40', subject: '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '11:40', end: '12:30', subject: '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '12:30', end: '13:20', subject: '‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô', code: '-', teacher: '-' },
    { start: '13:20', end: '14:10', subject: '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤', code: '‡∏™40247', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '14:10', end: '15:00', subject: '‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:00', end: '15:50', subject: '‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:50', end: '16:40', subject: '‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
  ],
  '‡∏û‡∏∏‡∏ò': [
    { start: '07:30', end: '08:20', subject: 'Home Room', code: '-', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '08:20', end: '09:10', subject: '‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå', code: '41105', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '09:10', end: '10:00', subject: '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢', code: '030246', teacher: '‡∏Ñ‡∏£‡∏π‡∏ì‡∏õ‡∏†‡∏±‡∏ä' },
    { start: '10:00', end: '10:50', subject: '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '10:50', end: '11:40', subject: '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '11:40', end: '12:30', subject: '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '12:30', end: '13:20', subject: '‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô', code: '-', teacher: '-' },
    { start: '13:20', end: '14:10', subject: '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤', code: '‡∏™40247', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '14:10', end: '15:00', subject: '‡∏®‡∏¥‡∏•‡∏õ‡∏∞', code: '20201', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:00', end: '15:50', subject: '‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:50', end: '16:40', subject: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
  ],
  '‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ': [
    { start: '07:30', end: '08:20', subject: 'Home Room', code: '-', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '08:20', end: '09:10', subject: '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '09:10', end: '10:00', subject: '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '10:00', end: '10:50', subject: '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '10:50', end: '11:40', subject: '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '11:40', end: '12:30', subject: '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢', code: '030246', teacher: '‡∏Ñ‡∏£‡∏π‡∏ì‡∏õ‡∏†‡∏±‡∏ä' },
    { start: '12:30', end: '13:20', subject: '‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô', code: '-', teacher: '-' },
    { start: '13:20', end: '14:10', subject: '‡∏®‡∏¥‡∏•‡∏õ‡∏∞', code: '20201', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '14:10', end: '15:00', subject: '‡∏®‡∏¥‡∏•‡∏õ‡∏∞', code: '20201', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:00', end: '15:50', subject: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:50', end: '16:40', subject: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
  ],
  '‡∏®‡∏∏‡∏Å‡∏£‡πå': [
    { start: '07:30', end: '08:20', subject: 'Home Room', code: '-', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '08:20', end: '09:10', subject: '‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '09:10', end: '10:00', subject: '‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '10:00', end: '10:50', subject: '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '10:50', end: '11:40', subject: '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '11:40', end: '12:30', subject: '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤', code: '‡∏™40247', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '12:30', end: '13:20', subject: '‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô', code: '-', teacher: '-' },
    { start: '13:20', end: '14:10', subject: '‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '14:10', end: '15:00', subject: '‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:00', end: '15:50', subject: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
    { start: '15:50', end: '16:40', subject: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°', code: '745', teacher: '‡∏Ñ‡∏£‡∏π‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå' },
  ]
};

const daysTH = ['‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', '‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', '‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', '‡∏û‡∏∏‡∏ò', '‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ', '‡∏®‡∏∏‡∏Å‡∏£‡πå', '‡πÄ‡∏™‡∏≤‡∏£‡πå'];

function getCurrentAndNextPeriod() {
  const now = dayjs().locale('th');
  const day = daysTH[now.day()];
  if (!timetable[day]) {
    return { current: { subject: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', code: '-', teacher: '-' }, next: { subject: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', code: '-', teacher: '-' }, day, time: now.format('HH:mm') };
  }
  const periods = timetable[day];
  let current = { subject: '‡∏û‡∏±‡∏Å', code: '-', teacher: '-' };
  let next = { subject: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', code: '-', teacher: '-' };
  for (let i = 0; i < periods.length; i++) {
    const { start, end } = periods[i];
    const startTime = dayjs(now.format('YYYY-MM-DD') + ' ' + start);
    const endTime = dayjs(now.format('YYYY-MM-DD') + ' ' + end);
    if (now.isAfter(startTime) && now.isBefore(endTime)) {
      current = periods[i];
      next = periods[i+1] || { subject: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', code: '-', teacher: '-' };
      break;
    }
    if (now.isBefore(startTime)) {
      current = { subject: '‡∏û‡∏±‡∏Å', code: '-', teacher: '-' };
      next = periods[i];
      break;
    }
  }
  // ‡∏´‡∏•‡∏±‡∏á 16:40
  if (now.isAfter(dayjs(now.format('YYYY-MM-DD') + ' 16:40'))) {
    current = { subject: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', code: '-', teacher: '-' };
    next = { subject: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', code: '-', teacher: '-' };
  }
  return { current, next, day, time: now.format('HH:mm') };
}

const client = new Client({ intents: [GatewayIntentBits.Guilds, GatewayIntentBits.GuildMessages, GatewayIntentBits.MessageContent] });

let interval = null;
let lastMessage = null;

client.on('messageCreate', async message => {
  if (message.content === '!class') {
    if (interval) clearInterval(interval);
    const sendOrEdit = async () => {
      const { current, next, day, time } = getCurrentAndNextPeriod();
      const embed = new EmbedBuilder()
        .setColor(0x0099FF)
        .setTitle('üìö ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ')
        .setDescription(`**‡∏ß‡∏±‡∏ô:** ${day}\n**‡πÄ‡∏ß‡∏•‡∏≤‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ:** ${time}`)
        .addFields(
          { name: '‡∏Ñ‡∏≤‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô', value: `**${current.subject}**\n‡∏£‡∏´‡∏±‡∏™: ${current.code}\n‡∏Ñ‡∏£‡∏π: ${current.teacher}`, inline: true },
          { name: '‡∏Ñ‡∏≤‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ', value: `**${next.subject}**\n‡∏£‡∏´‡∏±‡∏™: ${next.code}\n‡∏Ñ‡∏£‡∏π: ${next.teacher}`, inline: true },
        )
        .setFooter({ text: '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ' })
        .setTimestamp();

      if (lastMessage) {
        await lastMessage.edit({ embeds: [embed] });
      } else {
        lastMessage = await message.reply({ embeds: [embed] });
      }
    };

    await sendOrEdit();
    interval = setInterval(sendOrEdit, 30000);
  }
});

client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}`);
});

// client.login('YOUR_BOT_TOKEN');
